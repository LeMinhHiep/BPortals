@model MVCClient.ViewModels.Helpers.IPersonInChargeAutoCompleteViewModel

<div class="warehouse-lmargin" style="padding-top: 60px;">
    <div class="div-row3">
        <div class="div-input" style="margin-left: 0px;">
            @(Html.Kendo().AutoCompleteFor(model => model.EmployeeName)
                    .Name("EmployeeName")
                    .DataTextField("Name")
                    .Filter("contains")
                    .Placeholder("Chọn nhân viên phụ trách ...")
                    .DataSource(source =>
                    {
                        source.Read(read =>
                        {
                            read.Action("SearchEmployees", "EmployeesApi").Data(@<text>

                                function(e) {
                                return {
                                locationID: requireConfig.pageOptions.LocationID,
                                searchText: $("#EmployeeName").data("kendoAutoComplete").value()
                                };}

                            </text>);
                        })
                        .ServerFiltering(true);
                    })
                    .Events(e =>
                    {
                        e.Select("employeeName_Select");
                    })
                    .HtmlAttributes(new { @class = "input-class1" })
            )

            <input id="EmployeeNameTemp" name="EmployeeNameTemp" value="@Model.EmployeeName" type="hidden" class="k-textbox" />
        </div>

    </div>
</div>



<script type="text/javascript">

    $("#EmployeeName").focusout(function () {
        $("#EmployeeName").val($("#EmployeeNameTemp").val());
    });

    employeeName_Select = function (e) {
        var dataItem = e.sender.dataItem(e.item.index());

        $("#EmployeeID").val(dataItem.EmployeeID);

        $("#EmployeeNameTemp").val(dataItem.Name);
    }

</script>
